import "@nomiclabs/hardhat-ethers"
import "@nomiclabs/hardhat-vyper"
import "@nomiclabs/hardhat-waffle"
import "@openzeppelin/hardhat-upgrades"
import "@typechain/hardhat"
import "hardhat-contract-sizer"
import "hardhat-gas-reporter"
import { HardhatUserConfig } from "hardhat/config"
import "solidity-coverage"

const config: HardhatUserConfig = {
    solidity: {
        compilers: [
            {
                version: "0.7.6",
                settings: {
                    optimizer: { enabled: true, runs: 100 },
                    evmVersion: "berlin",
                    // for smock to mock contracts
                    outputSelection: {
                        "*": {
                            "*": ["storageLayout"],
                        },
                    },
                },
            },
            {
                version: "0.8.20",
                settings: {
                    optimizer: { enabled: true, runs: 100 },
                    evmVersion: "berlin",
                    // for smock to mock contracts
                    outputSelection: {
                        "*": {
                            "*": ["storageLayout"],
                        },
                    },
                },
            },
        ]
        
    },
    vyper: {
        compilers: [{ version: "0.3.3" }, { version: "0.3.6" }],
    },
    networks: {
        hardhat: {
            allowUnlimitedContractSize: true,
        },
    },
    contractSizer: {
        alphaSort: true,
        runOnCompile: true,
        disambiguatePaths: false,
    },
    gasReporter: {
        excludeContracts: ["test"],
    },
    mocha: {
        require: ["ts-node/register/files"],
        jobs: 4,
        timeout: 120000,
        color: true,
    },
}

export default config
